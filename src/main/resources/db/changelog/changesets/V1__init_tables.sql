CREATE TABLE IF NOT EXISTS poll
(
    poll_id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    question VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS option
(
    option_id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    option_value VARCHAR(255) NOT NULL,
    poll_id BIGINT REFERENCES poll (poll_id) ON DELETE CASCADE
);

CREATE TABLE IF NOT EXISTS vote
(
    vote_id BIGINT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    option_id BIGINT REFERENCES option(option_id) ON DELETE CASCADE
);